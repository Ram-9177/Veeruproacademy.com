@tailwind base;
@tailwind components;
@tailwind utilities;
@import './tokens.css';

@layer base {
  html, body {
    @apply antialiased;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    color: #f5f7ff;
    background-color: var(--background);
    background-image: var(--bg-gradient-dark), var(--bg-gradient-overlay),
      radial-gradient(120% 120% at 10% 5%, rgba(118, 127, 163, 0.05) 0%, rgba(17, 20, 28, 0) 45%),
      radial-gradient(140% 140% at 90% 10%, rgba(68, 79, 112, 0.04) 0%, rgba(12, 16, 24, 0) 60%);
    background-attachment: fixed;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-200;
  }

  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700;
  }

  .btn-secondary {
    @apply bg-white/10 text-white/80 border border-white/20 hover:bg-white/15;
  }

  .card {
    /* Dark surface card replacement for bg-white */
    background-color: var(--surface);
    background-image: var(--bg-gradient-overlay);
    border-color: var(--card-border);
    @apply rounded-2xl shadow-lg backdrop-blur-xl;
  }

  /* Treat all classes with 'bg-white' as dark surface in global dark mode */
  [class*='bg-white'] {
    background-color: var(--surface) !important;
    background-image: var(--bg-gradient-overlay) !important;
    color: var(--text-primary) !important;
    border-color: var(--card-border) !important;
  }

  /* Map legacy gray text colors to dark mode tokens so that older components remain readable */
  [class*='text-gray-900'], [class*='text-gray-800'] {
    color: var(--text-primary) !important;
  }
  [class*='text-gray-700'], [class*='text-gray-600'], [class*='text-gray-500'] {
    color: var(--text-muted) !important;
  }

  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-[0.7rem] font-semibold uppercase tracking-wide bg-white/10 text-white border border-white/20;
  }

  .input {
    @apply w-full px-4 py-3 rounded-2xl border border-white/20 bg-white/10 text-white placeholder:text-white/45;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-400/60 focus:border-primary-400;
  }

  .skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50;
  }
}

/* Toast notifications */
.toast {
  @apply px-4 py-3 rounded-xl shadow-elevated border;
}
.toast-success {
  @apply bg-success-50 border-success-200 text-success-700;
}
.toast-error {
  @apply bg-red-50 border-red-200 text-red-700;
}
.toast-info {
  @apply bg-primary-50 border-primary-200 text-primary-700;
}
